<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Swipe – MeetXBuild</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body data-page="swipe">
  <!-- Background anime blobs + scanline -->
  <div class="anime-bg" aria-hidden="true">
    <div class="blob b1"></div>
    <div class="blob b2"></div>
  </div>
  <div class="anime-scan" aria-hidden="true"></div>

  <nav class="navbar">
    <div class="logo">MeetXBuild</div>
  </nav>

  <main class="container">
    <section class="section-band">
      <div class="section-heading">
        <h2>Discover founders</h2>
        <p>Swipe through serious builders who match your skills, stage, and visa reality.</p>
      </div>

      <div class="feature-card">
        <div class="swipe-area">
          <div id="swipe-card-container">
            <!-- top card (JS will update this) -->              
            <div class="swipe-card" id="topCard">
              <div class="swipe-photo" id="cardCover"></div>

              <div class="swipe-info">
              <div class="swipe-header">
              <h3 id="cardName">Avi Patel, 28</h3>
              <span id="cardMatchCount">5 mutual skills</span>
            </div>

            <p id="cardBio" class="swipe-bio">
             Founder • Likes product-first teams. NYC / Remote
            </p>

             <div class="chips" id="cardChips">
             <div class="chip">React</div>
             <div class="chip">SaaS</div>
            </div>
            </div>

             <div class="swipe-overlay">
             <div class="label like" id="overlayLike">LIKE</div>
             <div class="label nope" id="overlayNope">NOPE</div>
             </div>
            </div>

              <div id="swipeBlocked" style="display:none;">
                <div>
                  <div style="font-size:1.05rem;font-weight:800">Finish your profile to start swiping</div>
                  <div style="margin-top:0.4rem;color:var(--text-muted)">Add your name, skills, and a photo to get better matches.</div>
                  <div style="margin-top:0.8rem;">
                    <a href="profile.html" id="goProfileBtn" class="btn-cta-main small">Complete profile</a>
                  </div>
                </div>
              </div>
            </div>

            <div class="swipe-actions" style="margin-top:14px;">
              <button class="fab nope" id="btnNope" aria-label="Nope">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M18.3 5.71a1 1 0 0 0-1.41 0L12 10.59 7.11 5.7A1 1 0 1 0 5.7 7.11L10.59 12l-4.89 4.89a1 1 0 1 0 1.41 1.41L12 13.41l4.89 4.89a1 1 0 0 0 1.41-1.41L13.41 12l4.89-4.89a1 1 0 0 0 0-1.4z"/></svg>
              </button>
              <button class="fab superlike" id="btnSuperlike" aria-label="Superlike">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
              </button>
              <button class="fab like" id="btnLike" aria-label="Like">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12.1 21.35l-1.1-1.02C5.14 15.36 2 12.28 2 8.5 2 6.01 4.01 4 6.5 4c1.74 0 3.41.81 4.5 2.09C12.09 4.81 13.76 4 15.5 4 17.99 4 20 6.01 20 8.5c0 3.78-3.14 6.86-8.9 11.83l-1 1.02z"/></svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Bottom nav -->
  <nav class="bottom-nav">
    <a href="swipe.html" class="active">
      <div class="icon" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M12 21.35l-1.1-1.02C5.14 15.36 2 12.28 2 8.5 2 6.01 4.01 4 6.5 4c1.74 0 3.41.81 4.5 2.09C12.09 4.81 13.76 4 15.5 4 17.99 4 20 6.01 20 8.5c0 3.78-3.14 6.86-8.9 11.83l-1 1.02z"/></svg>
      </div>
      <span class="label">Swipe</span>
    </a>
    <a href="matches.html">
      <div class="icon" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M12 2l3 6 6 .5-4.5 4 1 6L12 17l-5.5 3.5 1-6L3 8.5 9 8z"/></svg>
      </div>
      <span class="label">Matches</span>
    </a>
    <a href="chats.html">
      <div class="icon" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M21 6h-2v9H6v2a1 1 0 0 0 1 1h11l3 3V7a1 1 0 0 0-1-1zM17 2H3a1 1 0 0 0-1 1v14l4-3h11a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"/></svg>
      </div>
      <span class="label">Chats</span>
    </a>
    <a href="profile.html">
      <div class="icon" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M12 12a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0 2c-4.42 0-8 2.24-8 5v1h16v-1c0-2.76-3.58-5-8-5z"/></svg>
      </div>
      <span class="label">Profile</span>
    </a>
  </nav>

  <!-- load app (initializes firebase) then swipe module -->
  <script type="module" src="app.js"></script>
  <script type="module" src="swipe.js"></script>

  <!-- optional debug query for profiles (keep if you want logs) -->
  <script>
    (async () => {
      if (!window.db) return console.log('window.db not initialized (app.js missing or not loaded)');
      const { collection, query, where, limit, getDocs } = await import('https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js');
      const q = query(collection(window.db, 'profiles'), where('visible','==', true), limit(50));
      try {
        const snap = await getDocs(q);
        console.log('profiles count:', snap.size);
        snap.docs.forEach(d => console.log(d.id, d.data()));
      } catch (err) {
        console.error('profiles query failed', err);
      }
    })();
  </script>
</body>
</html>
